<?xml version="1.0" encoding="utf-8"?>

<s:Skin xmlns:fx="http://ns.adobe.com/mxml/2009"
	xmlns:s="library://ns.adobe.com/flex/spark">
	<fx:Metadata>
		[HostComponent("com.github.ciacob.flex.ui.components.CustomProgressBar")]
	</fx:Metadata>


	<s:BorderContainer borderColor="{getStyle('borderColor')}"
		backgroundColor="{getStyle('trackColor')}"
		minHeight="{getStyle('minTrackHeight') || 2}"
		top="0" left="0" right="0"
		cornerRadius="{getStyle('cornerRadius')}">

		<!-- The "fill" of the Progress bar -->
		<s:Group id="progressGroup"
			top="0" bottom="0"
			left="{hostComponent.direction=='left' ? 0 : NaN}"
			right="{hostComponent.direction=='right' ? 0 : NaN}">

			<s:Rect left="0" top="0" bottom="0" right="0"
				radiusX="{getStyle('cornerRadius') || 0}"
				radiusY="{getStyle('cornerRadius') || 0}">
				<s:fill>
					<s:SolidColor color="{getStyle('fillColor')}"/>
				</s:fill>
			</s:Rect>

			<!-- Label, right aligned over the fill -->
			<s:Label id="percentDisplay"
				styleName="{getStyle('labelStyle')}"
				top="2" right="4" bottom="1"
				verticalCenter="0" verticalAlign="middle"
				visible="{progressGroup.width > percentDisplay.width + 8}"
				includeInLayout="{progressGroup.width > percentDisplay.width + 8}" />

		</s:Group>

	</s:BorderContainer>
</s:Skin>
